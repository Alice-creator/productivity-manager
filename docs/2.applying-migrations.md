# Applying Migrations

## Setup (one time)

Install the Supabase CLI and link to your project:

```bash
supabase login
supabase link --project-ref <your-project-ref>
```

`supabase login` opens a browser to authenticate. `supabase link` connects the CLI to your remote project.

## Apply migrations

```bash
supabase db push
```

Reads all files in `supabase/migrations/` in timestamp order and runs only the ones not yet applied. Already-applied migrations are tracked in a `supabase_migrations` table in your DB and are never run twice.

## Add a new migration

```bash
supabase migration new <name>
```

Generates a new file with the current timestamp, e.g. `supabase/migrations/20260219100000_<name>.sql`. Write your SQL in it, then push:

```bash
supabase db push
```

## Example workflow

```bash
# Add a new column to tasks
supabase migration new add_priority_to_tasks
# → edit the generated file:
#   alter table tasks add column priority int default 0;

supabase db push
# → only the new migration runs, init.sql is skipped
```
